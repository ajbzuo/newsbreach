{
    "version": 2,
    "builds": [
      {
        "src": "package.json",
        "use": "@vercel/static-build",
        "config": { "distDir": "dist/public" }
      },
      {
        "src": "server/index.ts",
        "use": "@vercel/node"
      }
    ],
    "routes": [
      // 1) any /api/* call goes into your Node app
      { "src": "/api/(.*)", "dest": "server/index.ts" },
      // 2) everything else returns the SPA's index.html
      { "src": "/(.*)",      "dest": "dist/public/index.html" }
    ]
  }